# Обработка форм в PHP

## Использование форм как способ взаимодействия с пользователем

Один из самых распространённых способов взаимодействия с пользователем в веб-приложениях — это использование **форм**.

Вспомним некоторые понятия из курса по `HTML`:

- **Форма** — это элемент HTML `<form>`, который позволяет пользователю вводить данные и отправлять их на сервер. Она состоит из элементов управления (`controls`), меток (`labels`), кнопки отправки и других элементов.
- **Элементы управления** (controls) — это поля ввода, такие как текстовые поля, флажки, радиокнопки, выпадающие списки и другие. Они позволяют пользователю вводить данные, которые затем отправляются на сервер.
- **Метки** (labels) — это текстовые метки, которые описывают, что нужно ввести в поле. Они улучшают доступность и удобство использования формы.
- **Кнопка отправки** — это элемент `<button type="submit">`, который после нажатия отправляет данные формы на сервер.

**Пример**. _Форма отзыва на сайте_:

<img src="https://imgur.com/hL2yQkl.png" width="500" />

Если рассматривать взаимодействие пользователя с веб-приложением через формы, то можно выделить следующий процесс:

```
Пользователь вводит данные в форму
    -> Нажимает кнопку отправки
        -> Данные отправляются на сервер
            -> Сервер обрабатывает данные и возвращает ответ
                -> Отображается результат
```

Таким образом, основной процесс взаимодействия с пользователем в веб-приложении через формы сводится к отправке данных на сервер и обновлению интерфейса на основе полученного ответа.

В этой главе мы подробно изучим работу с формами и их использование в веб-приложениях, включая:

- Создание и настройку HTML-форм
- Обработку данных на сервере
- Валидацию пользовательского ввода
- Защиту от различных видов атак

Эти знания помогут вам создавать более удобные и безопасные веб-приложения.

## Атрибуты элемента `<form>`

Рассмотрим базовый пример формы. Вы изучали атрибуты формы в курсе по `HTML`, вспомним основные из них.

```html
<form
  method="post"
  action="/handler.php"
  novalidate
  autocomplete="off"
  enctype="multipart/form-data"
>
  <label for="name">Имя:</label>
  <input type="text" id="name" name="name" required />

  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required />

  <label for="message">Сообщение:</label>
  <textarea id="message" name="message" required></textarea>

  <button type="submit">Отправить</button>
</form>
```

Тег `<form>` объявляет начало HTML-формы. У этого тега есть несколько атрибутов.

**Ключевые атрибуты формы**:

- `method="post"` — метод отправки данных. Может принимать значение `"GET"` или `"POST"`. От этого зависит, как именно браузер отправит данные на сервер. Если метод не указан, по умолчанию используется `GET`.
- `action="/handler"` — адрес серверного скрипта или страницы, на которую отправятся данные формы. Как только пользователь нажимает кнопку отправки, браузер перейдет по этому адресу, передав введенные данные. Обычно здесь указывают файл PHP, который будет обрабатывать данные. Например, `action="hanlder.php"` отправит данные на `http://my-site.com/handler.php`.
- `novalidate` — отключает встроенную валидацию браузера, что позволяет применять собственную серверную валидацию.
- `autocomplete="off"` — отключает автозаполнение браузером, что полезно для повышения безопасности.
- `enctype="multipart/form-data"` — используется при отправке файлов или бинарных данных.

### Описание аттрибутов

| Атрибут          | Описание                                                                                           | Пример                                 |
| ---------------- | -------------------------------------------------------------------------------------------------- | -------------------------------------- |
| `target`         | Определяет, где будет открыт ответ (`_blank`, `_self`, `_parent`, `_top`).                         | `<form target="_blank">`               |
| `name`           | Имя формы (может использоваться в JavaScript).                                                     | `<form name="feedback">`               |
| `id`             | Уникальный идентификатор формы (используется для CSS и JS).                                        | `<form id="feedback">`                 |
| `accept-charset` | Указывает кодировку, которую сервер использует для обработки данных.                               | `<form accept-charset="UTF-8">`        |
| `novalidate`     | Отключает встроенную валидацию браузера.                                                           | `<form novalidate>`                    |
| `autocomplete`   | Включает (`on`) или отключает (`off`) автозаполнение формы.                                        | `<form autocomplete="off">`            |
| `enctype`        | Тип кодирования данных (`application/x-www-form-urlencoded`, `multipart/form-data`, `text/plain`). | `<form enctype="multipart/form-data">` |

## Элементы управления формы

Внутри формы мы размещаем поля, куда пользователь вводит информацию. В дальнейшем введеные данные будут переданы на сервер.

Самый распространенный элемент – тег `<input>`. Он позволяет создавать различные поля ввода, такие как _текстовые поля_, _флажки_, _радиокнопки_ и другие.

### Атрибуты элемента `<input>`

Самые распространенные атрибуты элемента `<input>`:

- `type` – тип поля. Определяет, что это за поле ввода. Самые базовые типы:
  - `"text"` (текстовое поле),
  - `"password"` (парольное поле, вводимые символы скрыты),
  - `"number"` (поле для ввода чисел),
  - `"email"` (поле для ввода email-адреса),
  - др.
- `name` – имя поля. **Крайне важно!** Имя идентифицирует поле, и именно по этому имени сервер будет потом получать значение. **Если у поля нет атрибута `name`, то значение этого поля не будет передано на сервер**.
- `value` – значение по умолчанию (необязательный атрибут, позволяет задать предварительное значение поля, которое пользователь увидит и сможет изменить).

Помимо `<input>`, существуют и другие элементы для ввода, такие как `<textarea>` (многострочное текстовое поле) или элементы выбора (`<select>`). Мы рассмотрим их в следующих разделах главы.

## Отправка формы

После того, как была создана форма и пользователь ввел данные, необходимо отправить эти данные на сервер для дальнейшей обработки.

Для отправки данных формы на сервер используется кнопка отправки (`<button type="submit">`).

**Пример.** _Форма отправки комментария_

```html
<form action="/handler.php" method="get">
  <label for="name">Имя:</label>
  <input type="text" id="name" name="name" required />

  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required />

  <label for="message">Сообщение:</label>
  <textarea id="message" name="message" required></textarea>

  <button type="submit">Отправить</button>
</form>
```

В данном примере: когда пользователь заполняет форму и нажимает кнопку **Отправить**, данные из полей ввода отправляются на сервер по указанному URL (`action`). В данном случае, когда пользователь заполнит эти поля и нажмет **"Отправить"**, браузер отправит запрос по адресу `/handler.php` (например, если это `localhost`, то `http://localhost/handler.php`), передав данные из формы.

#### Важность атрибута `name`

Как было сказано ранее, атрибут `name` является ключевым для отправки данных на сервер. Он определяет **ключ**, под которым данные будут переданы на сервер.

**Например**: если у поля ввода `name="email"`, то данные из этого поля будут отправлены на сервер с ключом `email`.

Если пользователь ввёл `email: john@gmail.com`, сервер получит данные в виде пары "ключ=значение":

```http
email=john@gmail.com
```

> [!IMPORTANT]
> Если данные не имеют атрибута `name`, они не будут отправлены на сервер.

## Методы отправки данных

После того, как пользователь отправил данные формы, нам необходимо определить, как именно эти данные будут отправлены на сервер.

HTML-формы поддерживают два основных метода передачи данных (атрибут `method`):

1. **GET**
2. **POST**

Рассмотрим методы отправки данных на основе примера выше: _форма отправки комментария_.

### Метод `GET`

Метод `GET` отправляет данные через `URL` (адресную строку). Это означает, что все пары **"ключ=значение"** отправляемых полей приклеиваются к адресу страницы в формате `"query parameters"` (параметры запроса).

#### Что происходит при отправке данных методом `GET`?

1. Предположим, пользователь ввел следующие данные в форму:

   - `name: John`
   - `email: john@gmail.com`
   - `message: Hello World`

2. Браузер отправляет запрос, на URL указаннй в `action` (например, `handler.php`) и добавляет к нему вопросительный знак `?`, после которого перечисляет все поля и их значения в формате `имя=значение`, разделяя пары амперсандом `&` если полей несколько

3. В итоге, браузер отправит данные на сервер в виде URL-строки:

   ```http
   http://my-site.com/handler.php?name=John&email=john%40gmail.com&message=Hello%20World
   ```

**В данном примере**:

- `?` — разделитель URL и данных.
- `&` — разделитель между параметрами.
- Спецсимволы (`@`, пробел) кодируются (`%40`, `%20`).

> [!TIP]
> Как упоминалось ранее, ключи данных формируются на основе атрибута `name` каждого поля формы.

<img src="https://imgur.com/WwPdtd1.png" width="500" />

#### Характерные особенности метода `GET`

- Отправляемые данные видны в адресной строке после отправки (их может увидеть пользователь и даже скопировать этот URL).
- Объем данных ограничен длиной URL. В разных браузерах максимальная длина URL может быть разной, но обычно она составляет 2048 символов.
- **Подходит** для **поисковых запросов, фильтров, сортировки**. Например, `/search?query=apple`, `/products?category=phones`, `/products?sort=price`.
- **Не подходит** для **отправки больших данных или конфиденциальной информации**, например паролей. Поскольку данные видны в адресе, они остаются в истории браузера, могут попасть в логи сервера или быть просмотрены посторонними.

### Метод `POST`

Метод `POST` отправляет данные _"невидимо"_, в **теле HTTP-запроса**.

При нажатии кнопки браузер формирует запрос к серверу, но параметры не прикрепляет к URL, а вкладывает внутрь (в так называемое _тело запроса_).

#### Что происходит при отправке данных методом `GET`?

1. Предположим, пользователь ввел следующие данные в форму:

   - `name: John`
   - `email: john@gmail.com`
   - `message: Hello World`

2. Браузер обращается на указанный в `action` адрес и отправляет данные в теле запроса:

   ```http
   POST /handler.php HTTP/1.1
   Content-Type: application/x-www-form-urlencoded

   name=John&email=john@gmail.com&message=Hello%20World
   ```

3. В отличие от `GET`, данные скрыты и не отображаются в URL.

#### Характерные особенности метода `POST`

- Данные не видны в адресной строке и не сохраняются в истории. Это более безопасно для передачи, например, паролей или личных сообщений пользователя.
- Нет жесткого ограничения на объем данных (формально ограничение определяется настройками сервера). Поэтому `POST` используют для больших форм, файл-аплоадов и т.д.
- URL остается _"чистым"_. Нельзя напрямую поделиться ссылкой с уже заполненными данными.
- **Подходит** для **форм регистрации, авторизации, отправки файлов**.
- **Не подходит**, если данные должны быть доступны через URL (например, для `поиска`, `сортировки`, `фильтрации`, и т.д.).

### Что выбрать: `GET` или `POST`?

| Метод  | Когда использовать                                                                                          | Когда не использовать                                             |
| ------ | ----------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| `GET`  | Для выполнения поисковых запросов, фильтрации и сортировки данных                                           | Для передачи больших объемов данных и конфиденциальной информации |
| `POST` | В остальных случаях, включая отправку форм, загрузку файлов и другие операции, изменяющие состояние сервера | Для поисковых запросов, фильтрации и сортировки данных            |

## Получение и обработка данных

После того как мы научились создавать HTML-формы и отправлять данные на сервер, следующим шагом становится получение этих данных и их обработка с помощью PHP.

Предположим, у нас уже есть HTML-форма (например, как в примере выше), которая отправляет данные на некий PHP-скрипт (в атрибуте `action`). Как же нам вытащить отправленные значения внутри этого скрипта?

### Получение данных из HTML-формы

PHP предоставляет специальные **суперглобальные массивы** — специальные массивы, определенные в PHP, доступные во всех частях скрипт.

Для работы с формами используются два суперглобальных массива: `$_GET` и `$_POST`. Они автоматически заполняются данными из запроса, отправленного методом `GET` и `POST` соответственно.

- `$_GET` — используется, если форма отправлена с атрибутом `method="get"`. Данные передаются через URL.
- `$_POST` — используется, если форма отправлена с атрибутом `method="post"`. Данные передаются скрыто в теле запроса.
- `$_FILES` — предназначен для работы с загружаемыми файлами (подробнее об этом – в других разделах).

Рассмотрим форму отправки отзыва и получение данных из неё.

**Пример**. _Форма отправки отзыва_

```html
<form action="/handler.php" method="post">
  <label for="name">Имя:</label>
  <input type="text" id="name" name="name" required />

  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required />

  <label for="message">Сообщение:</label>
  <textarea id="message" name="message" required></textarea>

  <button type="submit">Отправить</button>
</form>
```

#### Получение данных из формы методом `GET`

Если у формы указан метод `get`, данные передаются через URL, и мы можем получить их из массива `$_GET`:

**Пример**. _Получение данных из формы методом `GET`_

```php
// Пример содержимого массива $_GET после отправки формы:
[
  'name' => 'John',
  'email' => 'john@gmail.com',
  'message' => 'Hello World',
]

// Получение данных:
$name    = $_GET['name'];     // Получаем имя
$email   = $_GET['email'];    // Получаем email
$message = $_GET['message'];  // Получаем сообщение
```

#### Получение данных из формы методом `POST`

При использовании метода `post` данные передаются _скрыто_, и для их получения применяется массив `$_POST`:

**Пример**. _Получение данных из формы методом `POST`_

```php
// Пример содержимого массива $_POST после отправки формы:
[
  'name' => 'John',
  'email' => 'john@gmail.com',
  'message' => 'Hello World',
]

// Получение данных:
$name    = $_POST['name'];     // Получаем имя
$email   = $_POST['email'];    // Получаем email
$message = $_POST['message'];  // Получаем сообщение
```

> [!TIP]
> В PHP разница между `GET` и `POST` заключается только в способе передачи данных. Если изменить метод формы с `GET` на `POST`, обращаться к данным нужно через `$_POST` вместо `$_GET` и наоборот.

### Обработка данных формы на сервере

Получение данных из формы — это только первый шаг. Чаще всего данные формы нужно проверить, обработать и сохранить или использовать дальше (например, отправить на почту).

#### Проверка отправки формы

Перед обработкой данных нужно убедиться, что форма была отправлена. Наиболее распространенный способ — это проверка, что запрос был отправлен методом `POST`.

`$_SERVER` — суперглобальный массив с информацией о сервере и текущем запросе. `$_SERVER['REQUEST_METHOD']` содержит метод запроса (`GET`, `POST` и т. д.).

> [!TIP]
> Суперглобальный массив `$_SERVER` содержит информацию о текущем запросе, включая метод запроса (`REQUEST_METHOD`), URL (`REQUEST_URI`), IP-адрес клиента (`REMOTE_ADDR`), имя текущего скрипта (`PHP_SELF`) и другие.

```php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Форма отправлена, можно приступать к обработке данных
}
```

### Извлечение и проверка полученных данных

После проверки метода можно собрать данные в один массив. При этом стоит использовать оператор `??`, чтобы избежать ошибок, если какие-то данные не были отправлены.

```php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $formData = [
        'name'    => $_POST['name']    ?? '',
        'email'   => $_POST['email']   ?? '',
        'message' => $_POST['message'] ?? '',
    ];

    // Здесь можно добавить валидацию: проверить, заполнены ли поля, корректен ли email и т.д.
}
```

### Дальнейшая обработка данных

После получения и проверки данные можно обработать разными способами:

- Сохранение в базу данных.
- Запись в файл. _Например_, сохранить каждое сообщение в виде строки в текстовом файле:

  ```php
    if ($_SERVER['REQUEST_METHOD'] === 'POST') {
      $formData = [
          'name'    => $_POST['name']    ?? '',
          'email'   => $_POST['email']   ?? '',
          'message' => $_POST['message'] ?? '',
      ];

      // Записываем данные в файл messages.txt, каждое сообщение в формате JSON
      file_put_contents('messages.txt', json_encode($formData) . PHP_EOL, FILE_APPEND);

      echo 'Данные успешно отправлены!';
  }
  ```

- Отправка данных на email.
- Отображение результата на экране.
- И другие действия в зависимости от задачи.

## Организация кода при обработке форм

При работе с HTML-формами важно правильно организовать код, чтобы он был:

- Читаемым и логически структурированным.
- Удобным для поддержки и расширения.
- Безопасным и устойчивым к атакам.

В PHP существуют два основных подхода к обработке форм:

1. **Обработка формы в одном месте**. Форма отправляет данные на тот же файл, где она находится.

   - **Форма и обработчик в одном файле**. HTML-форма и PHP-код обработки размещены в одном файле.
   - **Форма и обработчик в разных файлах**, но в одном контексте – обработка вынесена в отдельный файл, но выполняется в том же месте (require).

2. **Обработка формы в разных местах**. Форма отправляет данные на другой обработчик и, при необходимости, после обработки выполняется перенаправление (например, форма в `index.php`, отправляем данные на `handler.php`).

Выбор подхода зависит от сложности проекта:

- Для небольших форм удобнее первый метод.
- В более сложных проектах лучше разделять форму и обработчик.

### Обработка формы в одном месте

Этот подход удобен для небольших проектов и тестовых форм, так как позволяет легко управлять кодом.

#### Форма и обработчик в одном файле

В этом случае HTML-форма и код обработки запроса находятся в одном файле. Это упрощает разработку и отладку, но при увеличении сложности кода может стать неструктурированным.

**Пример**. _Обработка данных формы в одном файле_

```php
<?php

// Проверяем, была ли отправлена форма
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Получаем данные из формы, предотвращая ошибки отсутствующих полей
    $formData = [
        'name'    => $_POST['name'] ?? '',
        'email'   => $_POST['email'] ?? '',
        'message' => $_POST['message'] ?? '',
    ];

    // Обрабатываем данные (например, можно сохранить их в базу данных)

    echo 'Данные успешно обработаны!';
}

?>

<!-- HTML-форма -->
<form action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>" method="post">
    <input type="text" name="name" placeholder="Ваше имя" required>
    <input type="email" name="email" placeholder="Ваш email" required>
    <textarea name="message" placeholder="Ваше сообщение" required></textarea>
    <button type="submit">Отправить</button>
</form>
```

**Объяснение кода:**

- `$_SERVER['PHP_SELF']` – возвращает имя текущего скрипта, обеспечивая отправку формы в тот же файл. _Например_, если форма находится в `index.php`, `$_SERVER['PHP_SELF']` вернет `/index.php`.
- `htmlspecialchars()` – предотвращает XSS-атаки, преобразуя специальные символы в HTML-сущности.

> [!TIP]
> Этот метод хорошо подходит для простых форм, но если логика обработки становится сложной, лучше вынести обработчик в отдельный файл.

#### Форма и обработчик в разных файлах (но в одном контексте)

Если логика обработки усложняется, её можно вынести в отдельный файл (`handler.php`), но продолжать использовать обработку в одном контексте.

**Пример**. _Обработка данных формы в разных файлах_

```php
<?php
// handler.php

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $formData = [
        'name'    => $_POST['name'] ?? '',
        'email'   => $_POST['email'] ?? '',
        'message' => $_POST['message'] ?? '',
    ];

    echo 'Данные успешно обработаны!';
}
?>
```

```php
<?php
// index.php
require 'handler.php'; // Подключаем обработчик
?>

<!-- HTML-форма -->
<form action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>" method="post">
    <input type="text" name="name" placeholder="Ваше имя" required>
    <input type="email" name="email" placeholder="Ваш email" required>
    <textarea name="message" placeholder="Ваше сообщение" required></textarea>
    <button type="submit">Отправить</button>
</form>
```

**Преимущества**:

- Код становится более организованным, поскольку обработка отделена от разметки.
- Можно повторно использовать `handler.php` в других частях проекта.

> [!IMPORTANT]
> Подключаемый обработчик не является самостоятельной точкой входа – он загружается `require`, а не через `action`.

### Обработка формы в разных местах

Этот метод используется в более сложных проектах. Данные отправляются на отдельный обработчик (`handler.php`), который выполняет логику и, при необходимости, перенаправляет пользователя.

Форма отправляет данные на другой URL (_например_, `/handler.php`), а после обработки может перенаправлять пользователя.

**Пример**. _Обработка данных формы в разных файлах_

```html
<!-- HTML-форма -->
<form action="handler.php" method="post">
  <input type="text" name="name" placeholder="Ваше имя" required />
  <input type="email" name="email" placeholder="Ваш email" required />
  <textarea name="message" placeholder="Ваше сообщение" required></textarea>
  <button type="submit">Отправить</button>
</form>
```

```php
<?php
<?php
// handler.php

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $formData = [
        'name'    => $_POST['name'] ?? '',
        'email'   => $_POST['email'] ?? '',
        'message' => $_POST['message'] ?? '',
    ];

    // Здесь можно обработать данные, например, сохранить в БД

    echo 'Данные успешно обработаны!';

    // Перенаправление обратно на главную страницу после обработки
    header('Location: /index.php');
    exit;
}
?>
```

**Объяснение кода:**

- `header('Location: /index.php'); exit;` – выполняет перенаправление, предотвращая повторную отправку формы при обновлении страницы.
- Данные обрабатываются отдельно, улучшая модульность и безопасность.

> [!WARNING]
> При таком подходе передача данных между страницами невозможна без дополнительных механизмов (например, _сессий_).

### Сравнение методов организации кода

| Подход                                                 | Преимущества                                | Недостатки                                        |
| ------------------------------------------------------ | ------------------------------------------- | ------------------------------------------------- |
| Форма и обработчик в одном файле                       | Удобно для простых форм, минимальный код    | Код может стать запутанным                        |
| Форма и обработчик в разных файлах (в одном контексте) | Улучшает читаемость, код легче поддерживать | Нет четкого разделения логики и представления     |
| Обработка формы в разных местах                        | Улучшает модульность, безопасность          | Требует дополнительных механизмов передачи данных |

## Получение данных от разных элементов формы

При работе с формами важно уметь получать данные от различных элементов, таких как текстовые поля, флажки (`checkbox`), радиокнопки (`radio`), выпадающие списки (`select`) и другие.

### Особенности атрибута `name`

Вспомним, что атрибут `name` определяет, под каким ключом данные будут переданы на сервер. Если он отсутствует, значение элемента формы не будет передано.

#### Передача данных в виде массива

Можно группировать несколько полей в массив, используя квадратные скобки `[]`:

```html
<input name="form[username]" type="text" />
<input name="form[email]" type="email" />
<input name="form[password]" type="password" />
```

В результате PHP создаст массив `form`:

```php
$form = $_POST['form'];
// ['username' => 'John', 'email' => 'john@gmail.com', 'password' => '123456']
```

Можно создавать двумерные массивы:

```html
<input name="form[email][]" type="text" />
<input name="form[email][]" type="text" />
```

```php
$emails = $_POST['form']['email'];
// ['john@gmail.com', 'jane@gmail.com']
```

### Текстовые поля (`input type="text"`)

Данные из текстового поля передаются в виде пары `"ключ=значение"`, где **ключ** — это атрибут `name`.

```html
<input type="text" name="name" value="John" required />
```

```php
$name = $_POST['name']; // 'John'
```

### Радиокнопки (`input type="radio"`)

Радиокнопки позволяют выбрать только один вариант. На сервер отправляется значение только отмеченной кнопки.

```html
<label> <input type="radio" name="sex" value="M" checked /> Мужчина </label>
<label> <input type="radio" name="sex" value="F" /> Женщина </label>
```

```php
$sex = $_POST['sex'];
// Если выбрана радиокнопка "Мужчина", $sex = 'M'
// Если выбрана радиокнопка "Женщина", $sex = 'F'
```

> [!NOTE]
> Если ни одна радиокнопка не выбрана, значение в `$_POST['sex']` будет отсутствовать.

### Флажки (Checkbox) (`input type="checkbox"`)

Флажки позволяют выбирать несколько значений. Если флажок не выбран, его значение не передается на сервер.

```html
<label>
  <input type="checkbox" name="hobbies[]" value="football" /> Футбол
</label>
<label>
  <input type="checkbox" name="hobbies[]" value="basketball" /> Баскетбол
</label>
<label>
  <input type="checkbox" name="hobbies[]" value="tennis" /> Теннис
</label>
```

```php
$hobbies = $_POST['hobbies'] ?? [];
// ['football', 'basketball'] если выбраны первые два флажка.
```

> [!IMPORTANT]
> Если ни один чекбокс не выбран, $\_POST['hobbies'] не будет существовать, поэтому рекомендуется использовать `?? []`, чтобы избежать ошибок.

### Выпадающий список (`select`)

Для получения данных из выпадающего списка используется атрибут `value` у элемента `<option>`. При отправке формы на сервер передается только значение выбранной опции.

```html
<select name="country">
  <option value="md">Молдова</option>
  <option value="us">США</option>
  <option value="fr">Франция</option>
</select>
```

```php
$country = $_POST['country'];
// Если выбрана опция "Молдова", $country = 'md'
// Если выбрана опция "США", $country = 'us'
// Если выбрана опция "Франция", $country = 'fr'
```

### Выпадающий список с `multiple`

Если `multiple` включен, передается массив значений

```html
<select name="colors[]" multiple>
  <option value="red">Красный</option>
  <option value="green">Зеленый</option>
  <option value="blue">Синий</option>
</select>
```

```php
$colors = $_POST['colors'] ?? [];
// ['red', 'blue'] если выбраны "Красный" и "Синий".
```

[^1]: _HTML Form_. programiz [online resource]. Available at: https://www.programiz.com/html/form
[^2]: _PHP - Form Handling_. tutorialspoint [online resource]. Available at: https://www.tutorialspoint.com/php/php_form_handling.htm
