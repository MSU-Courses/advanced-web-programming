# Операторы в PHP

Из курса по основам программирования вы уже знакомы с операторами.

**Операторы** — это специальные символы или комбинации символов, которые выполняют операции над данными [^1].

## Типы операторов по количеству принимаемых значений

1. **Унарные операторы**. Принимают одно значение.  
   **Пример:** оператор декремента `--`.

   ```php
   <?php
   
   $x = 5;
   echo --$x; // 4
   ```

2. **Бинарные операторы**. Принимают два значения.  
   **Пример:** оператор сложения `+`.

   ```php
   <?php

   $sum = 10 + 5;
   echo $sum; // 15
   ```

3. **Тернарные операторы**. Принимают три значения.  
   **Пример:** тернарный оператор `?:`.

   ```php
   <?php

   $result = $x > 0 ? "Положительное" : "Неположительное";
   echo $result;
   ```

## Группы операторов

PHP поддерживает множество операторов, которые можно разделить на следующие основные группы:

- Арифметические (`+`, `-`, `*`, `/`, `%`, `**`).
- Логические (`&&`, `||`, `and`, `or`, `xor`, `!`).
- Сравнения (`==`, `!=`, `===`, `!==`, `<`, `>`, `<=`, `>=`, `<=>`).
- Побитовые (`&`, `|`, `^`, `~`, `<<`, `>>`).
- Присваивания (`=`, `+=`, `-=`, `.=`, `*=`, `/=`, `%=`).
- Строковые (`.` для конкатенации).
- Ошибок (`@` для подавления ошибок).
- Операторы вывода (`echo`, `print`).

## Приоритет операторов

При написании сложных выражений важно помнить о приоритете операторов [^3]. Это определяет, в каком порядке выполняются операции.

**Пример:**
```php
<?php

$result = 5 + 2 * 3; // Сначала умножение, затем сложение
echo $result; // 11
```

### Список приоритета операторов

1. `()` (круглые скобки)
2. `++`, `--` (постфиксный)
3. `!`, `~`, `++`, `--` (префиксный)
4. `**` (возведение в степень)
5. `*`, `/`, `%`
6. `+`, `-`
7. `.` (конкатенация)
8. `echo`, `print` (операторы вывода)
9. `and`
10. `xor`
11. `or`

Если вы сомневаетесь в приоритете операторов, используйте скобки для явного указания порядка выполнения операций.

> [!TIP]
> Полный список операторов и их приоритет можно найти в документации PHP: https://www.php.net/manual/en/language.operators.precedence.php

## Арифметические операторы

**Арифметические операторы** в PHP используются для работы с числовыми значениями, с целью выполнения арифметических операций.

| Оператор | Описание             | Пример     |
| -------- | -------------------- | ---------- |
| `+`      | Сложение             | `$x + $y`  |
| `-`      | Вычитание            | `$x - $y`  |
| `*`      | Умножение            | `$x * $y`  |
| `/`      | Деление              | `$x / $y`  |
| `%`      | Остаток от деления   | `$x % $y`  |
| `**`     | Возведение в степень | `$x ** $y` |

## Логические операторы

**Логические операторы** используются для выполнения операций сравнения и управления потоком выполнения программы.

| Оператор | Описание        | Пример      |
| -------- | --------------- | ----------- | 
| `&&`     | Логическое И    | `$x && $y`  |
| `||`        |Логическое ИЛИ | `$x || $y` |
| `and`    | Логическое И    | `$x and $y` |
| `or`     | Логическое ИЛИ  | `$x or $y`  |
| `xor`    | Исключающее ИЛИ | `$x xor $y` |
| `!`      | Логическое НЕ   | `!$x`       |

## Операторы присваивания

**Операторы присваивания** используются для присвоения значений переменным.

| Оператор | Описание           | Пример    |
| -------- | ------------------ | --------- |
| `=`      | Присваивание       | `$x = 5`  |
| `+=`     | Сложение           | `$x += 5` |
| `-=`     | Вычитание          | `$x -= 5` |
| `*=`     | Умножение          | `$x *= 5` |
| `/=`     | Деление            | `$x /= 5` |
| `%=`     | Остаток от деления | `$x %= 5` |
| `.=`     | Конкатенация       | `$x .= 5` |


### Операторы инкремента и декремента

**Операторы инкремента и декремента** используются для увеличения или уменьшения значения переменной на 1.

| Оператор | Описание             | Пример | Объяснение                                                  |
| -------- | -------------------- | ------ | ----------------------------------------------------------- |
| `$x++`   | Инкремент            | `$x++` | Возвращает `$x`, а потом увеличивает `$x` на единицу        |
| `$x--`   | Декремент            | `$x--` | Возвращает `$x`, а потом уменьшает значение `$x` на единицу |
| `++$x`   | Префиксный инкремент | `++$x` | Возвращает `$x`, а потом увеличивает `$x` на единицу        |
| `--$x`   | Префиксный декремент | `--$x` | Уменьшает значение `$x` на единицу, а потом возвращает `$x` |

## Операторы сравнения

**Операторы сравнения** используются для сравнения значений и выполнения условных операций.

| Оператор | Описание                                         | Пример      |
| -------- | ------------------------------------------------ | ----------- |
| `==`     | Равно (равны по значнению)                       | `$x == $y`  |
| `!=`     | Не равно                                         | `$x != $y`  |
| `===`    | Тождественно равно (равны по типу и по значению) | `$x === $y` |
| `!==`    | Не тождественно равно                            | `$x !== $y` |
| `<`      | Меньше                                           | `$x < $y`   |
| `>`      | Больше                                           | `$x > $y`   |
| `<=`     | Меньше или равно                                 | `$x <= $y`  |
| `>=`     | Больше или равно                                 | `$x >= $y`  |
| `<=>`    | Spaceship                                        | `$x <=> $y` |


### Оператор spaceship `<=>`

Оператор spaceship (`<=>`) используется для сравнения двух значений. Этот оператор возвращает [^2]:

- `0`, если значения равны.
- `-1`, если левое значение меньше правого.
- `1`, если левое значение больше правого.

**Пример:**

```php
<?php

echo 5 <=> 10; // -1
echo 10 <=> 10; // 0
echo 15 <=> 10; // 1
```

## Оператор конкатенации

Оператор конкатенации (`.`) используется для объединения строк.

| Оператор | Описание     | Пример          |
| -------- | ------------ | --------------- |
| `.`      | Конкатенация | `$str1 . $str2` |

## Оператор управления ошибками `@`

Оператор `@` подавляет сообщения об ошибках. Однако его использование не рекомендуется, так как это может скрыть важные проблемы.

**Пример:**

```php
<?php

$content = @file_get_contents('nonexistent.txt'); // Ошибка подавлена
```

> [!WARNING]
> Подавление ошибок с помощью `@` может затруднить отладку. Лучше использовать конструкции `try...catch` или проверку существования файла перед выполнением операции.

[^1]: *Operators*. php.net [online resource]. Available at: https://www.php.net/manual/en/language.operators.php
[^2]: *Spaceship operator in PHP*. medium [online resource]. Available at: https://medium.com/@nabilhasan.live/spaceship-operator-in-php-eec288fec5c6
[^3]: *Operator Precedence*. php.net [online resource]. Available at: https://www.php.net/manual/en/language.operators.precedence.php
