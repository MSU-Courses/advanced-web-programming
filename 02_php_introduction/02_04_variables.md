# Переменные в PHP

Переменные в PHP обозначаются знаком доллара `$` и могут содержать:

- Буквы.
- Цифры.
- Символы подчеркивания.

Они чувствительны к регистру, а их имена должны начинаться с буквы или символа подчеркивания.

```php
<?php

// Правильные имена переменных
$name = "Alice";
$age = 25;
$_count = 10;

// Неправильные имена переменных
$1name = "Bob"; // начинается с цифры
$my-name = "Charlie"; // содержит дефис
$my name = "David"; // содержит пробел
```

PHP является _слабо типизированным языком_, поэтому не нужно указывать тип переменной. Переменная может изменять свой тип в процессе выполнения программы.

```php
<?php

$age = 25;          // целое число
$age = "25 years";  // строка
```

## Присваивание значений

**Присваивание значений** осуществляется с помощью оператора `=`. Переменные могут содержать строки, числа, массивы и другие типы данных.

```php
<?php

$name = "Alice";       // строка
$secondName = $name;   // копирование значения
```

При присваивании одной переменной другой копируется только значение, а не ссылка на него. Это значит, что изменение одной переменной не влияет на другую.

> [!NOTE]  
> Нельзя просто объявить переменную без присвоения ей значения. Это вызовет ошибку.

```php
<?php

$undefined; // Ошибка: переменной не присвоено значение
```

## Неопределенные переменные

Если переменная не была определена, PHP выдаст предупреждение, но продолжит выполнение программы.

```php
<?php

echo $undefined; // Notice: Undefined variable: undefined
```

Для проверки существования переменной используется функция `isset()`:

```php
<?php

if (isset($undefined)) {
    echo "Переменная определена";
} else {
    echo "Переменная не определена";
}
```

## Константы

**Константы** — это переменные, значения которых нельзя изменить в процессе выполнения программы.

### Создание констант

- **С помощью функции define.** Данная функция принимает два аргумента: имя константы и её значение. Она вычисляется на этапе выполнения программы, поэтому поддерживает не только простые значения, но и выражения.

  ```php
  <?php

  define("PI", 3.14);
  echo PI; // 3.14
  ```

- **С помощью оператора const**. Значение константы вычисляются до начала выполнения программы, поэтому она не может содержать динамические значения.

  ```php
  <?php

  const PI = 3.14;
  echo PI; // 3.14
  ```

> [!NOTE]  
> Константы, объявленные через `const`, должны быть инициализированы значением, доступным во время компиляции.

## Область видимости переменных

**Область видимости переменной** — это контекст, в котором она определена [^1]. В PHP существует несколько областей видимости:

В PHP существуют следующие области видимости:

1. **Глобальная Область Видимости**. Переменные, объявленные вне функций, доступны только в глобальной области.

   ```php
   <?php

   $name = "Alice"; // глобальная переменная
   echo $name;      // доступна здесь
   ```

2. **Локальная Область Видимости**. Переменные, объявленные внутри функций, доступны только в пределах этих функций.

   ```php
   <?php

   function greet() {
       $message = "Hello, world!"; // локальная переменная
       echo $message;
   }
   greet();
   ```

3. **Использование Глобальных Переменных Внутри Функций**. Для доступа к глобальным переменным используется ключевое слово `global` или массив `$GLOBALS`.

   ```php
   <?php

   $a = 10;

   function testGlobal() {
       global $a;
       echo $a; // 10
   }

   function testGlobalsArray() {
       echo $GLOBALS['a']; // 10
   }
   ```

## Статические переменные

**Статические переменные** сохраняют своё значение между вызовами функции.

```php
<?php

function counter() {
    static $count = 0; // статическая переменная
    $count++;
    echo $count;
}

counter(); // 1
counter(); // 2
counter(); // 3
```

> [!TIP]  
> Используйте статические переменные для подсчета вызовов функций или сохранения состояния.

## Использование переменных в блоках

Переменные, объявленные внутри блоков (`if`, `while`, `for`), доступны вне этих блоков, если они находятся в одной функции или глобальной области.

```php
<?php

if (true) {
    $message = "Hello, block!";
}

echo $message; // "Hello, block!"
```

Для читаемости и предсказуемости кода рекомендуется инициализировать переменные заранее:

```php
<?php

$message = ""; // Инициализация
if (true) {
    $message = "Initialized inside block";
}
echo $message; // "Initialized inside block"
```

## Соглашения по именованию переменных

- Используйте **camelCase** для переменных и функций: `$userName`, `$userAge`.
- Избегайте однобуквенных имен: `$a`, `$b`.
- Выбирайте понятные имена: `$userAge` вместо `$age`.
- Используйте **UPPER_CASE** для констант: `PI`, `DB_NAME`.

[^1]: Variable scope. PHP Manual [online resourse]. Available at: https://www.php.net/manual/language.variables.scope.php
