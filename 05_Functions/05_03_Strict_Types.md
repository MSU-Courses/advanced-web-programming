# Строгая типизация

В версии PHP 7.0 появилась поддержка строгой типизации аргументов функций и возвращаемых значений. Она позволяет строго контролировать, соответствуют ли переданные аргументы и возвращаемые значения указанным типам. Это упрощает отладку, предотвращает ошибки, связанные с неправильными типами данных, и повышает надёжность кода [^1].

## Включение строгой типизации

Для включения строгой типизации нужно добавить директиву `declare(strict_types=1);` в начало PHP-файла. Эта директива распространяется на весь файл и применяет строгую проверку типов аргументов и возвращаемых значений.

**Пример.** _Использование строгой типизации_

```php
<?php

declare(strict_types=1);

function sum(int $a, int $b): int {
    return $a + $b;
}

echo sum(2, 3); // 5

// Попытка передать значения с типом float вызовет ошибку
echo sum(2.5, 3.5); // Fatal error: Uncaught TypeError
```

При включённой строгой типизации PHP требует точного соответствия типов. В примере выше передача аргументов с типом `float` вызывает `Fatal Error`, так как функция sum принимает только целые числа (`int`).

## Что происходит без строгой типизации?

Если директива `declare(strict_types=1);` не указана, PHP будет автоматически пытаться привести аргументы к нужному типу (например, преобразовать `float` в `int`).

**Пример.** _Пример без строгой типизации_

```php
<?php

function sum(int $a, int $b): int {
    return $a + $b;
}

echo sum(2.5, 3.5); // Вывод: 5
```

В этом случае PHP автоматически приводит `2.5` и `3.5` к целым числам (`2` и `3` соответственно) и выполняет сложение, возвращая `5`. Это может привести к нежелательным ошибкам в логике программы.

**Строгая типизация** — это важный инструмент для повышения качества кода. Она позволяет избежать многих ошибок, связанных с некорректными типами данных, и делает программы более предсказуемыми. Однако её следует использовать там, где это необходимо, особенно в больших проектах или при работе в команде.

[^1]: _Function parameters and arguments_. php.net [online resource]. Available at: https://www.php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration