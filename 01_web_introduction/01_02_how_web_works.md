# Как работает веб. Клиент-серверная архитектура

Для успешного изучения веб-разработки важно понять, как устроена работа веба и как взаимодействуют его основные элементы. Одной из ключевых архитектур веб-приложений является клиент-серверная архитектура. Давайте разберем основные понятия и простой пример работы, чтобы эта концепция стала более понятной.

## Основные понятия

1. **Клиент** — устройство или программа, которая отправляет запрос серверу и получает от него ответ [^1]. **Примеры**: веб-браузер, мобильное приложение.
2. **Сервер** — устройство или программа, обрабатывающая запросы клиентов и отправляющая ответы [^1]. **Примеры**: веб-сервер, сервер базы данных.
3. **Запрос** — сообщение, отправляемое клиентом серверу, чтобы получить данные или выполнить действие. **Примеры**: запрос веб-страницы, отправка формы, загрузка файла.
4. **Ответ** — сообщение, отправляемое сервером клиенту в ответ на запрос. **Примеры**: HTML-страница, JSON-данные, изображение.
5. **Протокол** — набор правил, определяющих формат и порядок передачи данных. **Пример**: **HTTP** (HyperText Transfer Protocol) — основной протокол для передачи данных в вебе.

## Клиент-серверная архитектура

**Клиент-серверная архитектура** — это модель взаимодействия, в которой клиент (например, браузер) запрашивает данные, а сервер их предоставляет. Чаще всего общение между клиентом и сервером происходит через сеть, по протоколу *HTTP*.

Пример в жизни:

- Клиент: _"Привет, сервер, мне нужна информация!"_
- Сервер: _"Вот, держи!"_

Такой подход позволяет пользователям получать доступ к информации, хранящейся на серверах, через браузеры или приложения.

![Клиент-серверная архитектура](../_images/client-server.jpg)

### Клиентские и серверные скрипты

В веб-разработке существует два основных типа программ (скриптов), используемых для создания веб-приложений:

1. **Клиентские скрипты (client-side scripts)**  — те скрипты, которые выполняются в браузере пользователя. Они используются для создания интерактивных элементов, отображения данных и обеспечения взаимодействия с пользователем. Такие скрипты видны пользователю, поскольку их код передается на устройство клиента и выполняется там. **Пример:** динамическое изменение содержимого страницы без перезагрузки (например, раскрывающийся список или добавление товара в корзину).
2. **Серверные скрипты (server-side scripts)**  — эти скрипты выполняются на сервере и используются для обработки запросов от клиента, управления данными в базах и отправки результатов обратно клиенту. Пользователь не видит код серверных скриптов, так как они выполняются до того, как данные отправляются в браузер. **Пример:** аутентификация пользователя, генерация персонализированных страниц или обработка данных формы.  

## HTTP и коды состояния

**HTTP** – это широко распространенный протокол передачи гипертекста (HyperText Transfer Protocol).

**Гипертекст** — это текст, в котором есть ссылки на другие тексты. Например, когда вы читаете статью в интернете и видите слово, на которое можно нажать, чтобы перейти на другую страницу.

**Протокол** – это набор правил и соглашений, которые определяют, как устройства общаются друг с другом. В случае _HTTP_ это означает, что сервер и клиент общаются между собой по определенным правилам.

Каждый ответ сервера сопровождается **HTTP-кодом состояния**, который показывает результат обработки запроса.

Примеры популярных кодов:

- **200 OK** — запрос обработан успешно.
- **404 Not Found** — ресурс не найден.
- **500 Internal Server Error** — ошибка на сервере.

Эти коды помогают разработчикам диагностировать проблемы и понимать, как взаимодействуют клиент и сервер.

Если вам интересно узнать больше о HTTP и кодах состояния, рекомендуем прочитать следующую главу.

## Пример работы клиент-сервера

Рассмотрим простой пример.

1. Пользователь открывает браузер и вводит адрес сайта новостей.
2. Браузер (клиент) отправляет запрос серверу с просьбой предоставить главную страницу сайта.
3. Сервер обрабатывает запрос и отправляет браузеру ответ, включающий HTML-страницу, стили (CSS) и скрипты (JavaScript).
4. Браузер отображает страницу для пользователя.

## Веб-сервер

Когда запрос поступает на сервер, его обрабатывает специальная программа — **веб-сервер**.

Веб-сервер выполняет следующие задачи:

1. Принимает запрос клиента.
2. Обрабатывает запрос:
   - Ищет нужный ресурс (например, HTML-файл или данные из базы).
   - Взаимодействует с другими программами (например, с приложением на PHP).
3. Отправляет ответ клиенту.

**Пример веб-серверов**: Apache, Nginx.

> [!NOTE]
> **Ресурсы** — это HTML-страницы, изображения, файлы, медиа-потоки или другие данные, которые необходимы клиенту. В ответ веб-сервер передаёт клиенту запрошенные данные.

## Объяснение на примере ресторана

Представьте, что вы пришли в ресторан:

- **Вы — клиент**: вы делаете заказ официанту.
- **Официант — сервер**: он принимает ваш заказ, передает его повару (аналог базы данных), а затем возвращает вам готовое блюдо.

## Сервер как клиент

Сервер может быть клиентом в другом взаимодействии.

Когда сервер запрашивает данные из другого сервера, он выступает в роли клиента.

Например, ваш сервер может запрашивать информацию о погоде с другого сервера, предоставляющего погодные данные. В данном случае ваш сервер является клиентом, а сервер с погодными данными — сервером.

Главное запомнить, что клиент запрашивает данные, а сервер предоставляет их. При этом одно устройство может быть клиентом и сервером одновременно, в зависимости от контекста и взаимодействия.

## Заключение

Понимание клиент-серверной архитектуры и принципов работы HTTP — основа веб-разработки. Эти знания помогут вам понять, как устроены современные веб-приложения, и заложат фундамент для дальнейшего изучения.

[^1]: Клиент и сервер, ibm.com [online]. Available: https://www.ibm.com/docs/ru/aix/7.1?topic=systems-client-server