# Основные типы данных в PHP

PHP предоставляет широкий набор типов данных, которые помогают эффективно решать задачи различной сложности [^1].

В PHP существуют следующие **базовые типы данных** [^2]:

- **Встроенные типы:**
  - `null`
  - **Скалярные типы:**
    - `bool`
    - `int`
    - `float`
    - `string`
  - **Сложные типы:**
    - `array`
    - `object`
    - `resource`
  - **Специальные типы:**
    - `void`
    - `never`
- **Типы значений:**
  - `true`
  - `false`
- **Пользовательские типы:**
  - Классы
  - Интерфейсы
  - Перечисления (Enums)
- `callable` - представляет функции или методы, которые можно вызывать.

В этой главе мы подробно рассмотрим скалярные типы данных. С другими типами данных вы познакомитесь по мере дальнейшего изучения PHP.

## Скалярные типы данных

### `bool`

Тип `bool` (логический) может принимать одно из двух значений: `true` или `false`. Используется в условиях и для управления логикой программы.

**Пример.** _Использование логического типа_

```php
<?php
$isAvailable = true;
var_dump($isAvailable); // bool(true)
```

### `int`

Тип `int` представляет собой целые числа. Они могут быть как положительными, так и отрицательными. Максимальное значение зависит от архитектуры системы (`PHP_INT_MAX`).

**Пример.** _Использование целого числа_

```php
<?php
$age = 25;
var_dump($age); // int(25)
```

Целое число в PHP должно соответствовать следующим требованиям:

- Состоит минимум из одной цифры от 0 до 9 (`[0-9]+`).
- Не содержит запятых, пробелов или других разделителей.
- Не имеет десятичной точки.
- Может быть положительным или отрицательным.

Целые числа можно представлять в одном из трёх форматов:

1. **Десятичный (основание 10):** обычные числа без специальных префиксов.

   ```php
   $decimal = 123; // Десятичное число
   $largeDecimal = 1_000_000; // Для удобства чтения
   ```

2. **Шестнадцатеричный (основание 16):** числа с префиксом `0x`.

   ```php
   $hex = 0x1A; // Эквивалентно 26 в десятичной системе
   ```

3. **Восьмеричный (основание 8):** числа с префиксом `0`.

   ```php
   $octal = 075; // Эквивалентно 61 в десятичной системе
   ```

> [!NOTE]
> Символ `_` используется только для улучшения читаемости чисел. Он игнорируется при выполнении программы. **Например**: `1_000_000` эквивалентно `1000000`.

Эти правила определяют формат и допустимые представления целых чисел в PHP.

### `float`

Тип `float` предназначен для работы с числами с плавающей точкой (дробными числами).

**Пример.** _Использование числа с плавающей точкой_

```php
<?php
$price = 19.99;
var_dump($price); // float(19.99)
```

### `string`

Тип `string` используется для работы с текстом. Строки можно создавать с использованием одинарных или двойных кавычек. В двойных кавычках поддерживается интерполяция переменных.

**Пример.** _Использование строк_

```php
<?php
$name = "Alice";
$greeting = "Hello, $name!";
var_dump($greeting); // string(12) "Hello, Alice!"
```

## Типы значений

В PHP существуют два уникальных типа значений: `true` и `false`.

Они не только входят в состав типа `bool`, но и могут использоваться как отдельные типы данных. Например, для указания, что функция всегда возвращает `true`.

**Пример.** _Использование типов значений_

```php
<?php
function alwaysTrue(): true {
    return true; // Эта функция гарантированно возвращает только true
}
```

Данные типы используются не так часто, как остальные, но в некоторых сценариях они могут быть очень полезны. Например, их можно применять для индикации ошибок или успешного выполнения операции. Типичный случай — функция, которая возвращает `false` при ошибке или результат операции в случае успеха.

**Пример.** _Использование типов значений для индикации ошибок_

```php
<?php
/**
 * Поиск элемента в массиве.
 *
 * @param array $array Массив, в котором производится поиск.
 * @param int $element Элемент, который требуется найти.
 *
 * @return int|false Индекс элемента в массиве или false, если элемент не найден.
 */
function findElement(array $array, int $element): int|false {
    $index = array_search($element, $array, true); // Строгая проверка типа
    return $index !== false ? $index : false;
}

// Поиск элемента в массиве
$elem = findElement([1, 2, 3, 4, 5], 3);

// Проверка результата
if ($elem !== false) {
    echo "Элемент найден на позиции $elem";
    // ...
} else {
    echo "Элемент не найден";
    // ...
}
```

В этом примере `false` используется для обозначения ситуации, когда искомый элемент отсутствует в массиве. Это позволяет программисту однозначно определить, найден ли элемент, и, если да, — на каком индексе он расположен.

## Комбинированные типы (`Union Types`)

Иногда бывает необходимо указать несколько возможных типов данных для переменной, аргумента функции или возвращаемого значения. В таких случаях используется синтаксис с вертикальной чертой `|`.

**Пример.** _Использование комбинированных типов_

```php
<?php

/**
 * Функция для сложения двух чисел, которые могут быть целыми или дробными.
 *
 * @param int|float $a Первое число.
 * @param int|float $b Второе число.
 *
 * @return int|float Сумма двух чисел.
 */
function sum(int|float $a, int|float $b): int|float {
    return $a + $b;
}

echo sum(5, 10.5); // 15.5
```

## Тип `mixed`

В PHP существует специальный тип `mixed`, который указывает, что переменная может содержать значения различных типов. Это полезно, когда тип данных переменной заранее неизвестен или может изменяться в процессе выполнения программы.

**Пример.** _Использование типа `mixed`_

```php
<?php

/**
 * Функция, которая принимает переменную любого типа и выводит её значение.
 *
 * @param mixed $value Значение переменной.
 */
function processValue(mixed $value): void {
    var_dump($value);
}

processValue(42);           // int(42)
processValue("Hello");      // string(5) "Hello"
```

> [!NOTE]
> Использование типа `mixed` удобно, но его применение должно быть оправданным. Если вы можете заранее определить допустимые типы данных, предпочтительнее использовать Union Types (`int|float`, `string|int|float` и т. д.), так как **это делает код более предсказуемым и защищённым от ошибок**.

[^1]: *Types*. php.net [online resource]. Available at: https://www.php.net/manual/en/language.types.php
[^2]: *Type System*. php.net [online resource]. Available at: https://www.php.net/manual/en/language.types.type-system.php
